from ciscoconfparse import CiscoConfParse

parse = CiscoConfParse("/home/hrb/github/pynet/ciscoconfparse/config.txt")
serial_objs = parse.find_objects("^crypto map CRYPTO")

def findParentAndChildern():
    count = 0
    for obj in serial_objs:
       print "Parent is:"
       print obj.text
       print""
       parent = serial_objs[count]
       list_a= parent.children
       print "Childerns are:"
       for child in list_a:
           print child.text
           print""
    count = count+1

    

def findPFSgroup2():
    print "#################"
    print "CRYPTO maps with PFSgroup2 are:\n"
    for obj in serial_objs:
       if obj.re_search_children(r"set pfs group2"):
           print obj.text  
    
    
def main():
    findParentAndChildern()
    findPFSgroup2()


main()
